<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8">
    <title>闭包</title>
  </head>
  <body>

  </body>
  <script>
  function add() {
    var i = 0;
    return function () {
      alert(i++);
    }
  }
  var f = add();
  f();
  f();
  function add() {
    var i = 0;
    return ()=>{
      alert(i++)
    }
  }
  var f = add();
  f();
  f();
  {
    let name = "the";
    let obj = {
      name:"My Object",
      getNameFun:function () {
        return this.name;
      }
    }
    console.log(obj.getNameFun());
  }
  {
    let name = "the";
    let obj = {
      name:"My Object",
      getNameFun:function () {
        var that = this;
        return function () {
          return that.name
        };
      }
    }
    console.log(obj.getNameFun()());
  }
  {
    let name = "the";
    let obj = {
      name:"My Object",
      getNameFun:function () {
        return function () {
          return this.name
        };
      }
    }
    console.log(obj.getNameFun()());
  }
  {
    let name = "the";
    let obj = {
      name:"My Object",
      getNameFun:function () {
        return () =>{
          return this.name
        };
      }
    }
    console.log(obj.getNameFun()());
  }
  {
    let name = "the";
    let obj = {
      name:"My Object",
      getNameFun:function () {
        return (function () {
          return this.name
        }).bind(this);
      }
    }
    console.log(obj.getNameFun()());
  }
  </script>
</html>
